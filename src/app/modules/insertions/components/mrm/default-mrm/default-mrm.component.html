<div class="mdc-layout-grid__inner mg-80--top">
    <div
        class="portal-widget mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
        <p class="portal-widget__heading mdc-typography--subheading2">
            Origem Investimento da Campanha

            <span *ngIf="!mrm.length" class="pull-right">
                <button (click)="showModal()" [disabled]="insertion.confirmation"
                        class="mdc-button mdc-button--outlined"><i
                    class="fa fa-plus fa-lg"></i> &nbsp;Investimento </button>
            </span>
        </p>

        <div class="mdc-card portal-widget__card mdc-card--portal-fullheight mdc-card--portal-space-between">
            <div class="mdl-data-table--responsible">
                <table class="mdl-data-table portal-table-tab-panel portal-table-tab-panel--active">
                    <thead>
                    <tr class="text--left">
                        <th>ID Origem Investimento</th>
                        <th>ID Ação - Visto</th>
                        <th>ID peça - Visto</th>
                        <th>Outros/Origem da verba</th>
                        <th>Observação</th>
                        <th>Ações</th>
                    </tr>
                    </thead>
                    <tbody *ngIf="mrm.length; else empty">
                    <tr *ngFor="let item of mrm">
                        <td>{{ item.id }}</td>
                        <td>{{ (item.action_id) ? item.action_id : '---' }}</td>
                        <td>{{ (item.piece_id) ? item.piece_id : '---' }}</td>
                        <td>{{ (item.others) ? item.others : '---' }}</td>
                        <td>{{ (item.comments) ? item.comments : '---' }}</td>
                        <td>
                            <button (click)="showModal(item)" class="mdc-button mdc-button---small"><i
                                class="fa fa-edit fa-lg"></i></button>
                            <button (click)="confirm(item)" [disabled]="insertion.confirmation"
                                    class="mdc-button mdc-button---small"><i class="fa fa-trash fa-lg"></i></button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<app-modal (doCancel)="endModal()" (doClose)="close()" [action]="modal.action" [insertion]="insertion"
           [mrm]="modal.mrm" [show]="modal.show"></app-modal>

<ng-template #empty>
    <tr>
        <td class="text--center" colspan="6">Nenhuma origem de investimento cadastrada.</td>
    </tr>
</ng-template>
