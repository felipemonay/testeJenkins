<aside [ngClass]="{'mdc-dialog--open': _show}" class="mdc-dialog">
    <div class="mdc-dialog__surface">
        <header class="mdc-dialog__header">
            <h2 class="mdc-dialog__header__title">
                MMM linha criativo (Título PI)<i class="fa fa-question-circle font-18 cursor--pointer"
                                                 data-placement="bottom" data-toggle="tooltip"
                                                 title="Cada linha criativo (Título PI) cadastrada, deverá ter no mínimo um grupo de classificação MMM (mínimo uma TAG). A classificação deverá ser feita até o nível de subproduto. Caso não exista esse detalhamento, deverá informar o produto. As únicas categorias que não necessitam de produto / subproduto é INSTITUCIONAL e RELACIONAMENTO."></i>
            </h2>
        </header>

        <form #formTag="ngForm" (submit)="send()" autocomplete="off">
            <section class="mdc-dialog__body mdc-dialog__body--scrollable">
                <div class="mdc-layout-grid">
                    <div class="mdc-layout-grid__inner">
                        <div
                            class="mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                            <table class="mdl-data-table portal-table-tab-panel portal-table-tab-panel--active">
                                <thead>
                                <tr>
                                    <th width="200">CATEGORIA</th>
                                    <th width="400">DOMÍNIO</th>
                                    <th width="10"></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let selected_category of selected_categories">
                                    <td><strong>{{ selected_category.placeholder }}</strong></td>
                                    <td>{{ selected_category.value }}</td>
                                    <td>
                                        <button (click)="destroy(selected_category)" class="mdc-button" type="button"><i
                                            class="fa fa-times color-red"></i></button>
                                    </td>
                                </tr>

                                <tr *ngIf="categories.options && categories.options.length">
                                    <td>{{ categories.placeholder }}</td>
                                    <td>
                                        <div class="mdc-select__dropdown">
                                            <ng-select (selected)="onSelect($event)" [options]="options"
                                                       placeholder="Selecione"></ng-select>
                                        </div>
                                    </td>
                                    <td>
                                        <button (click)="select()" [disabled]="!selecting_category" class="mdc-button"
                                                type="button"><i class="fa fa-plus"></i></button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <div *ngIf="loading" class="text--center">
                                <i class="fa fa-refresh fa-spin fa-2x fa-fw"></i>
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <footer class="mdc-dialog__footer">
                <div class="mdc-dialog__footer--info">
                    SOLICITAÇÃO DE NOVAS CATEGORIAS <i class="fa fa-question-circle font-18 cursor--pointer"
                                                       data-toggle="tooltip"
                                                       title="Caso não tenha encontrado a classificação ideal para a linha criativo (Título PI) da sua campanha, enviar e-mail para MKT Automation & BI - mktautomationbi@santander.com.br"></i>
                </div>

                <button (click)="cancel()"
                        class="mdc-button mdc-button--raised mdc-dialog__footer__button mdc-dialog__footer__button--cancel mdc-ripple-upgraded"
                        type="button">
                    Cancelar
                </button>

                <button
                    [disabled]="!formTag.valid"
                    class="mdc-button mdc-button--outlined mdc-dialog__footer__button mdc-dialog__footer__button--cancel mdc-ripple-upgraded">
                    <span *ngIf="action === 'create'">Cadastrar</span>
                    <span *ngIf="action === 'update'">Salvar alterações</span>

                    &nbsp; <i class="fa fa-send-o"></i>
                </button>
            </footer>
        </form>
    </div>

    <div (click)="close()" class="mdc-dialog__backdrop"></div>
</aside>
